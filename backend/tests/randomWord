import { getRandomWord } from "../src/server/getRandomWord.ts";
import { describe, expect, test } from "@jest/globals";

/*
    This test is supposed to test if the logic to get random
    word is working correctly. It tests both to get word of specific length
    and if no word is matching.
*/

describe("GetWord(words, wordLength, excludeDuplicates)", () => {
  const wordsArray = ["Action", "tomato", "hejan", "martin", "kola", "sallad"];

  test("should return random word from array", () => {
    const result = getRandomWord(wordsArray, 5, false);
    expect(wordsArray).toContain(result);
  });

  test("should use 'lengtOfWord' as parameter for determine length of the random word", () => {
    const result = getRandomWord(wordsArray, 5, false);
    expect(result).toEqual("hejan");
    expect(result).not.toEqual("kola");
  });

  test("should use parameter 'excludeDuplicatedLetters' to exclude letters that contain letters more than once", () => {
    const result = getRandomWord(wordsArray, 6, true);
    expect(result).not.toEqual("sallad");
  });
  test("should return a error message if no words are found", () => {
    const result = generateRandomWord(wordsArray, 1, true);
    expect(result).toEqual("Inget ord fanns tillg√§ngligt");
  });
});